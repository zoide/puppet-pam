###############################################################################
# << FILE MANAGED BY PUPPET >>
# Manual changes are likey to be overwritten
###############################################################################

<% if scope.lookupvar('pam::pamd::pam_ldap') == true then -%>
password    [success=2 default=ignore]  pam_unix.so obscure sha512
password  <%= scope.lookupvar('pam::pamd::pam_ldap_password_set') %>
<% else -%>
password    [success=1 default=ignore]  pam_unix.so obscure sha512
<% end -%>
password	requisite			pam_deny.so
password	required			pam_permit.so
